<!DOCTYPE html>
<html>
<head>
<title>MyHtml.html</title>

<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
<meta http-equiv="description" content="this is my page">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<script type="text/javascript" src="js/include/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="js/include/json2.js"></script>
<script type="text/javascript" src="js/ajaxfileupload.js"></script>
<script type="text/javascript">
	function douploadfile(event) {
		var content = $("#Filedata").val();
		if (content.length == '') {
			alert("请选择图片!");
			return false;
		}
		$.ajaxFileUpload({
			url : 'upload.ajax', //你处理上传文件的服务端  
			secureuri : false,
			fileElementId : "Filedata",
			dataType : 'json',
			success : function(data, status) {
				var url = window.location.protocol + "//"
						+ window.location.host + "/upload/";
				$("#imgId").attr("src", url + data.path);
				//$("#docId").val(data.docId);
				alert("上传成功!");
			},
			error : function(data, status, e) {
				alert("上传失败!");
			}
		});
	}
</script>
</head>

<body>
	<div>
		<div>
			<input id="Filedata" name="Filedata" type="file" /> <input
				type="button" onclick="douploadfile(event)" value="上传" /><br /> <img
				width="200" id="imgId" />
		</div>
	</div>
</body>
</html>
